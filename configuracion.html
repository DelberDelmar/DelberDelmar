<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuración</title>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css">
    <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.4/dist/sweetalert2.all.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <link rel="icon" href="logo.png">
</head>
<body>
    <div class="content-wrap">
        <!-- Contenido principal de la página -->
        <header>
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container ms-auto">
                    <img src="logo.png" alt="logo" class="logo">
                    <a class="navbar-brand" href="index.html">
                        Sistema de Producción de Cemento
                    </a>                
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav">
                            <li class="nav-item active">
                                <a class="nav-link" href="index.html">Inicio</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="produccion.html">Producción</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="inventario.html">Inventario</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="reportes.html">Reportes</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="configuracion.html">Control</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>

    
        <main>
            <div class="container mt-4"> 
                <h1 class="display-4">Sala de Control</h1>
                <div class="mb-4">
                    <h2>Configuración del Sistema</h2>
                    <form id="configuracionForm">
                        <div class="mb-3">
                            <label for="nombreEmpresa">Velocidad de la Banda transportadora:</label>
                            <input type="number" id="nombreEmpresa" name="nombreEmpresa" class="form-control" required title="Ingrese un valor entero">
                        </div>
                        <div class="mb-3">
                            <label for="direccionEmpresa">Presion de la Bomba de Agua:</label>
                            <input type="number" id="direccionEmpresa" name="direccionEmpresa" class="form-control" required title="Ingrese un valor entero">
                        </div>
                        <div class="mb-3">
                            <label for="telefonoEmpresa">Temperatura de Calentador:</label>
                            <input type="number" id="telefonoEmpresa" name="telefonoEmpresa" class="form-control" required title="Ingrese un valor entero">
                        </div>
                        <button type="submit" class="btn btn-primary">Guardar Configuración</button>
                    </form>
                </div>
    
            </div>
        </main>
          
          <div class="container mt-4 process-container">
            <h2 class="centro">Control de Procesos</h2>
            <div class="d-flex justify-content-between">
              <div class="process-control">
                <h3>LLenado de Cemento</h3>
                <button id="encendidoBtn0" class="btn-disabled" onclick="toggleButton0()">Encendido</button>
                <button id="apagadoBtn0" class="btn-off" onclick="toggleButton0()">Apagado</button>
              </div>
              <div class="process-control">
                <h3>Bomba de agua</h3>
                <button id="encendidoBtn1" class="btn-disabled" onclick="toggleButton1()">Encendido</button>
                <button id="apagadoBtn1" class="btn-off" onclick="toggleButton1()">Apagado</button>
              </div>
              <div class="process-control">
                <h3>Válvula 1</h3>
                <button id="encendidoBtn2" class="btn-disabled" onclick="toggleButton2()">Encendido</button>
                <button id="apagadoBtn2" class="btn-off" onclick="toggleButton2()">Apagado</button>
              </div>
            </div>
            <div class="d-flex justify-content-between">
              <div class="process-control">
                <h3>Cinta Transportadora 1</h3>
                <button id="encendidoBtn3" class="btn-disabled" onclick="toggleButton3()">Encendido</button>
                <button id="apagadoBtn3" class="btn-off" onclick="toggleButton3()">Apagado</button>
              </div>
              <div class="process-control">
                <h3>Quemador</h3>
                <button id="encendidoBtn4" class="btn-disabled" onclick="toggleButton4()">Encendido</button>
                <button id="apagadoBtn4" class="btn-off" onclick="toggleButton4()">Apagado</button>
              </div>
              <div class="process-control">
                <h3>Calentador</h3>
                <button id="encendidoBtn5" class="btn-disabled" onclick="toggleButton5()">Encendido</button>
                <button id="apagadoBtn5" class="btn-off" onclick="toggleButton5()">Apagado</button>
              </div>
            </div>
            <div class="d-flex justify-content-between">
              <div class="process-control">
                <h3>Cinta Transportadora 2</h3>
                <button id="encendidoBtn6" class="btn-disabled" onclick="toggleButton6()">Encendido</button>
                <button id="apagadoBtn6" class="btn-off" onclick="toggleButton6()">Apagado</button>
              </div>
              <div class="process-control">
                <h3>Enfriador</h3>
                <button id="encendidoBtn7" class="btn-disabled" onclick="toggleButton7()">Encendido</button>
                <button id="apagadoBtn7" class="btn-off" onclick="toggleButton7()">Apagado</button>
              </div>
              <div class="process-control">
                <h3>Moledora</h3>
                <button id="encendidoBtn8" class="btn-disabled" onclick="toggleButton8()">Encendido</button>
                <button id="apagadoBtn8" class="btn-off" onclick="toggleButton8()">Apagado</button>
              </div>
            </div>
            <div class="d-flex justify-content-between">
              <div class="process-control">
                <h3>Cinta Transportadora 3</h3>
                <button id="encendidoBtn9" class="btn-disabled" onclick="toggleButton9()">Encendido</button>
                <button id="apagadoBtn9" class="btn-off" onclick="toggleButton9()">Apagado</button>
              </div>
            </div>
            <div class="d-flex justify-content-between">
                <div class="process-control">
                  <h3>Válvula de Transporte</h3>
                  <button id="encendidoBtn10" class="btn-disabled" onclick="toggleButton10()">Encendido</button>
                  <button id="apagadoBtn10" class="btn-off" onclick="toggleButton10()">Apagado</button>
                </div>
              </div>
          </div>
          
          

        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h2>Grafica de Producción</h2>
                    <canvas id="myChart" class="color"></canvas>
                </div>
                <div class="col-md-6">
                    <h2>Alarmas y Eventos</h2>
                    <ul id="alarmsList"></ul>
                </div>
            </div>
        </div>
    </div>

    <footer class="mt-md-4 myFooter">
        <div class="container">
            <p class="footer-text">&copy; 2023 Sistema de Producción de Cemento. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        document.getElementById('configuracionForm').addEventListener('submit', function(event) {
            event.preventDefault();
            var nombreEmpresa = document.getElementById('nombreEmpresa').value;
            var direccionEmpresa = document.getElementById('direccionEmpresa').value;
            var telefonoEmpresa = document.getElementById('telefonoEmpresa').value;
            Swal.fire({
                title: 'Configuración Guardada',
                text: 'La configuración se ha guardado exitosamente.',
                icon: 'success',
                confirmButtonText: 'Aceptar'
            });
        });

        // Datos iniciales del gráfico
        const initialData = [50, 75, 60, 85, 70];
        
        // Configuración del gráfico
const chartConfig = {
    type: 'line',
    data: {
        labels: ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes'],
        datasets: [{
            label: 'Producción de Cemento',
            data: initialData,
            backgroundColor: 'white',
            borderColor: 'rgba(75, 192, 192, 1)',
            borderWidth: 2,
            fill: false // Establecer fill en false para usar una línea en lugar de un área
        }]
    },
    options: {
        responsive: true,
        scales: {
            y: {
                beginAtZero: true
            }
        },
        plugins: {
            legend: {
                display: false
            }
        },
        backgroundColor: 'white' // Establecer el fondo del gráfico en blanco
    }
};


        // Obtener el elemento canvas para el gráfico
        const ctx = document.getElementById('myChart').getContext('2d');

        // Crear el gráfico utilizando Chart.js
        const chart = new Chart(ctx, chartConfig);

        // Función para generar datos aleatorios para el gráfico
        function generateRandomData() {
            const data = chart.data.datasets[0].data;
            const newData = data.map(value => Math.floor(Math.random() * 100));
            chart.data.datasets[0].data = newData;
            chart.update();
        }

        // Actualizar el gráfico cada 3 segundos
        setInterval(generateRandomData, 3000);

        // Obtener el elemento de la lista de alarmas
        const alarmsList = document.getElementById('alarmsList');

        // Función para agregar una alarma a la lista
        function addAlarm(message, status) {
            const listItem = document.createElement('li');
            listItem.innerHTML = `<span class="icon ${status}"><i class="fas fa-exclamation-circle"></i></span>${message}`;
            alarmsList.appendChild(listItem);
        }

        // Ejemplo de generación de alarmas
        addAlarm('Alarma 1: Temperatura alta', 'danger');
        addAlarm('Alarma 2: Presión baja', 'warning');
        addAlarm('Alarma 3: Flujo anormal', 'warning');
        addAlarm('Alarma 4: Transportadora 1', 'normal');
        addAlarm('Alarma 5: Transportadora 2', 'normal');
        addAlarm('Alarma 6: Transportadora 3', 'normal');
        addAlarm('Evento 1: Cambio de Camión', 'normal');
        

        function toggleButton0() {
            var encendidoBtn= document.getElementById("encendidoBtn0");
            var apagadoBtn= document.getElementById("apagadoBtn0");

            if (encendidoBtn.classList.contains("btn-on")){
                encendidoBtn.classList.remove("btn-on");
                encendidoBtn.classList.add("btn-disabled");
                apagadoBtn.classList.remove("btn-disabled");
                apagadoBtn.classList.remove("btn-off");
                apagadoBtn.classList.add("btn-off");
                }else  if (apagadoBtn.classList.contains("btn-off")){
                    
                    apagadoBtn.classList.remove("btn-off");
                    apagadoBtn.classList.add("btn-disabled");
                    
                    encendidoBtn.classList.remove("btn-disabled");
                    encendidoBtn.classList.remove("btn-off");
                    encendidoBtn.classList.add("btn-on");
                }
                    
                }
                function toggleButton1() {
            var encendidoBtn= document.getElementById("encendidoBtn1");
            var apagadoBtn= document.getElementById("apagadoBtn1");

            if (encendidoBtn.classList.contains("btn-on")){
                encendidoBtn.classList.remove("btn-on");
                encendidoBtn.classList.add("btn-disabled");
                apagadoBtn.classList.remove("btn-disabled");
                apagadoBtn.classList.remove("btn-off");
                apagadoBtn.classList.add("btn-off");
                }else  if (apagadoBtn.classList.contains("btn-off")){
                    
                    apagadoBtn.classList.remove("btn-off");
                    apagadoBtn.classList.add("btn-disabled");
                    
                    encendidoBtn.classList.remove("btn-disabled");
                    encendidoBtn.classList.remove("btn-off");
                    encendidoBtn.classList.add("btn-on");
                }
                    
                }
                function toggleButton2() {
            var encendidoBtn= document.getElementById("encendidoBtn2");
            var apagadoBtn= document.getElementById("apagadoBtn2");

            if (encendidoBtn.classList.contains("btn-on")){
                encendidoBtn.classList.remove("btn-on");
                encendidoBtn.classList.add("btn-disabled");
                apagadoBtn.classList.remove("btn-disabled");
                apagadoBtn.classList.remove("btn-off");
                apagadoBtn.classList.add("btn-off");
                }else  if (apagadoBtn.classList.contains("btn-off")){
                    
                    apagadoBtn.classList.remove("btn-off");
                    apagadoBtn.classList.add("btn-disabled");
                    
                    encendidoBtn.classList.remove("btn-disabled");
                    encendidoBtn.classList.remove("btn-off");
                    encendidoBtn.classList.add("btn-on");
                }
                    
                }
                function toggleButton3() {
            var encendidoBtn= document.getElementById("encendidoBtn3");
            var apagadoBtn= document.getElementById("apagadoBtn3");

            if (encendidoBtn.classList.contains("btn-on")){
                encendidoBtn.classList.remove("btn-on");
                encendidoBtn.classList.add("btn-disabled");
                apagadoBtn.classList.remove("btn-disabled");
                apagadoBtn.classList.remove("btn-off");
                apagadoBtn.classList.add("btn-off");
                }else  if (apagadoBtn.classList.contains("btn-off")){
                    
                    apagadoBtn.classList.remove("btn-off");
                    apagadoBtn.classList.add("btn-disabled");
                    
                    encendidoBtn.classList.remove("btn-disabled");
                    encendidoBtn.classList.remove("btn-off");
                    encendidoBtn.classList.add("btn-on");
                }
                    
                }
                function toggleButton4() {
            var encendidoBtn= document.getElementById("encendidoBtn4");
            var apagadoBtn= document.getElementById("apagadoBtn4");

            if (encendidoBtn.classList.contains("btn-on")){
                encendidoBtn.classList.remove("btn-on");
                encendidoBtn.classList.add("btn-disabled");
                apagadoBtn.classList.remove("btn-disabled");
                apagadoBtn.classList.remove("btn-off");
                apagadoBtn.classList.add("btn-off");
                }else  if (apagadoBtn.classList.contains("btn-off")){
                    
                    apagadoBtn.classList.remove("btn-off");
                    apagadoBtn.classList.add("btn-disabled");
                    
                    encendidoBtn.classList.remove("btn-disabled");
                    encendidoBtn.classList.remove("btn-off");
                    encendidoBtn.classList.add("btn-on");
                }
                    
                }
                function toggleButton5() {
            var encendidoBtn= document.getElementById("encendidoBtn5");
            var apagadoBtn= document.getElementById("apagadoBtn5");

            if (encendidoBtn.classList.contains("btn-on")){
                encendidoBtn.classList.remove("btn-on");
                encendidoBtn.classList.add("btn-disabled");
                apagadoBtn.classList.remove("btn-disabled");
                apagadoBtn.classList.remove("btn-off");
                apagadoBtn.classList.add("btn-off");
                }else  if (apagadoBtn.classList.contains("btn-off")){
                    
                    apagadoBtn.classList.remove("btn-off");
                    apagadoBtn.classList.add("btn-disabled");
                    
                    encendidoBtn.classList.remove("btn-disabled");
                    encendidoBtn.classList.remove("btn-off");
                    encendidoBtn.classList.add("btn-on");
                }
                    
                }
                function toggleButton6() {
            var encendidoBtn= document.getElementById("encendidoBtn6");
            var apagadoBtn= document.getElementById("apagadoBtn6");

            if (encendidoBtn.classList.contains("btn-on")){
                encendidoBtn.classList.remove("btn-on");
                encendidoBtn.classList.add("btn-disabled");
                apagadoBtn.classList.remove("btn-disabled");
                apagadoBtn.classList.remove("btn-off");
                apagadoBtn.classList.add("btn-off");
                }else  if (apagadoBtn.classList.contains("btn-off")){
                    
                    apagadoBtn.classList.remove("btn-off");
                    apagadoBtn.classList.add("btn-disabled");
                    
                    encendidoBtn.classList.remove("btn-disabled");
                    encendidoBtn.classList.remove("btn-off");
                    encendidoBtn.classList.add("btn-on");
                }
                    
                }
                function toggleButton7() {
            var encendidoBtn= document.getElementById("encendidoBtn7");
            var apagadoBtn= document.getElementById("apagadoBtn7");

            if (encendidoBtn.classList.contains("btn-on")){
                encendidoBtn.classList.remove("btn-on");
                encendidoBtn.classList.add("btn-disabled");
                apagadoBtn.classList.remove("btn-disabled");
                apagadoBtn.classList.remove("btn-off");
                apagadoBtn.classList.add("btn-off");
                }else  if (apagadoBtn.classList.contains("btn-off")){
                    
                    apagadoBtn.classList.remove("btn-off");
                    apagadoBtn.classList.add("btn-disabled");
                    
                    encendidoBtn.classList.remove("btn-disabled");
                    encendidoBtn.classList.remove("btn-off");
                    encendidoBtn.classList.add("btn-on");
                }
                    
                }
                function toggleButton8() {
            var encendidoBtn= document.getElementById("encendidoBtn8");
            var apagadoBtn= document.getElementById("apagadoBtn8");

            if (encendidoBtn.classList.contains("btn-on")){
                encendidoBtn.classList.remove("btn-on");
                encendidoBtn.classList.add("btn-disabled");
                apagadoBtn.classList.remove("btn-disabled");
                apagadoBtn.classList.remove("btn-off");
                apagadoBtn.classList.add("btn-off");
                }else  if (apagadoBtn.classList.contains("btn-off")){
                    
                    apagadoBtn.classList.remove("btn-off");
                    apagadoBtn.classList.add("btn-disabled");
                    
                    encendidoBtn.classList.remove("btn-disabled");
                    encendidoBtn.classList.remove("btn-off");
                    encendidoBtn.classList.add("btn-on");
                }
                    
                }
                function toggleButton9() {
            var encendidoBtn= document.getElementById("encendidoBtn9");
            var apagadoBtn= document.getElementById("apagadoBtn9");

            if (encendidoBtn.classList.contains("btn-on")){
                encendidoBtn.classList.remove("btn-on");
                encendidoBtn.classList.add("btn-disabled");
                apagadoBtn.classList.remove("btn-disabled");
                apagadoBtn.classList.remove("btn-off");
                apagadoBtn.classList.add("btn-off");
                }else  if (apagadoBtn.classList.contains("btn-off")){
                    
                    apagadoBtn.classList.remove("btn-off");
                    apagadoBtn.classList.add("btn-disabled");
                    
                    encendidoBtn.classList.remove("btn-disabled");
                    encendidoBtn.classList.remove("btn-off");
                    encendidoBtn.classList.add("btn-on");
                }  
                }
                function toggleButton10() {
            var encendidoBtn= document.getElementById("encendidoBtn10");
            var apagadoBtn= document.getElementById("apagadoBtn10");

            if (encendidoBtn.classList.contains("btn-on")){
                encendidoBtn.classList.remove("btn-on");
                encendidoBtn.classList.add("btn-disabled");
                apagadoBtn.classList.remove("btn-disabled");
                apagadoBtn.classList.remove("btn-off");
                apagadoBtn.classList.add("btn-off");
                }else  if (apagadoBtn.classList.contains("btn-off")){
                    
                    apagadoBtn.classList.remove("btn-off");
                    apagadoBtn.classList.add("btn-disabled");
                    
                    encendidoBtn.classList.remove("btn-disabled");
                    encendidoBtn.classList.remove("btn-off");
                    encendidoBtn.classList.add("btn-on");
                }  
                }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>

